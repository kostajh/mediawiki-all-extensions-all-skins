{
	"name": "Wikispeech",
	"version": "0.1.7",
	"author": [
		"Sebastian Berlin",
		"AndrÃ© Costa",
		"Igor Leturia",
		"Karl Wettin"
	],
	"url": "https://www.mediawiki.org/wiki/Extension:Wikispeech",
	"namemsg": "wikispeech",
	"descriptionmsg": "wikispeech-desc",
	"license-name": "GPL-2.0-or-later",
	"type": "other",
	"manifest_version": 2,
	"MessagesDirs": {
		"Wikispeech": [
			"i18n"
		]
	},
	"requires": {
		"MediaWiki": ">= 1.35"
	},
	"AutoloadNamespaces": {
		"MediaWiki\\Wikispeech\\": "includes/"
	},
	"TestAutoloadNamespaces": {
		"MediaWiki\\Wikispeech\\Tests\\": "tests/phpunit/"
	},
	"ResourceModules": {
		"ext.wikispeech.loader": {
			"scripts": [
				"ext.wikispeech.loader.js"
			]
		},
		"ext.wikispeech": {
			"scripts": [
				"ext.wikispeech.highlighter.js",
				"ext.wikispeech.main.js",
				"ext.wikispeech.player.js",
				"ext.wikispeech.selectionPlayer.js",
				"ext.wikispeech.storage.js",
				"ext.wikispeech.ui.js",
				"ext.wikispeech.util.js"
			],
			"styles": [
				"ext.wikispeech.css"
			],
			"messages": [
			],
			"dependencies": [
				"oojs-ui-core",
				"oojs-ui-toolbars",
				"oojs-ui.styles.icons-media",
				"oojs-ui.styles.icons-movement",
				"oojs-ui.styles.icons-interactions"
			]
		}
	},
	"ResourceFileModulePaths": {
		"localBasePath": "modules",
		"remoteExtPath": "Wikispeech/modules"
	},
	"QUnitTestModule": {
		"localBasePath": "tests/qunit",
		"remoteExtPath": "Wikispeech/tests/qunit",
		"dependencies": [
			"ext.wikispeech"
		],
		"scripts": [
			"ext.wikispeech.highlighter.test.js",
			"ext.wikispeech.player.test.js",
			"ext.wikispeech.selectionPlayer.test.js",
			"ext.wikispeech.storage.test.js",
			"ext.wikispeech.test.util.js",
			"ext.wikispeech.ui.test.js"
		]
	},
	"Hooks": {
		"BeforePageDisplay": [
			"\\MediaWiki\\Wikispeech\\Hooks\\WikispeechHooks::onBeforePageDisplay"
		],
		"ApiBeforeMain": "\\MediaWiki\\Wikispeech\\Hooks\\WikispeechHooks::onApiBeforeMain",
		"ResourceLoaderGetConfigVars": [
			"\\MediaWiki\\Wikispeech\\Hooks\\WikispeechHooks::onResourceLoaderGetConfigVars"
		],
		"GetPreferences": [
			"\\MediaWiki\\Wikispeech\\Hooks\\WikispeechHooks::onGetPreferences"
		],
		"ApiCheckCanExecute": "\\MediaWiki\\Wikispeech\\Hooks\\WikispeechHooks::onApiCheckCanExecute",
		"LoadExtensionSchemaUpdates": "\\MediaWiki\\Wikispeech\\Hooks\\WikispeechHooks::onLoadExtensionSchemaUpdates",
		"SkinTemplateNavigation": "\\MediaWiki\\Wikispeech\\Hooks\\WikispeechHooks::onSkinTemplateNavigation"
	},
	"ConfigRegistry": {
		"wikispeech": "GlobalVarConfig::newInstance"
	},
	"JobClasses": {
		"flushUtterancesByExpirationDateOnFile": "FlushUtterancesByExpirationDateOnFileJob",
		"flushUtterancesFromStoreByExpiration": "FlushUtterancesFromStoreByExpirationJob",
		"flushUtterancesFromStoreByLanguageAndVoice": "FlushUtterancesFromStoreByLanguageAndVoiceJob",
		"flushUtterancesFromStoreByPageId": "FlushUtterancesFromStoreByPageIdJob"
	},
	"config": {
		"WikispeechSpeechoidUrl": {
			"description": "The URL to use for the Speechoid service.",
			"value": ""
		},
		"WikispeechSpeechoidResponseTimeoutSeconds": {
			"description": [
				"Default number of seconds to await an HTTP response from Speechoid. ",
				"Falsy value defaults to MediaWiki default."
			],
			"value": null
		},
		"WikispeechListenMaximumInputCharacters": {
			"description": "Maximum number of characters in the input (a segment) sent to the Speechoid service.",
			"value": 2048
		},
		"WikispeechRemoveTags": {
			"description": [
				"Map of HTML tags that should be removed completely, i.e. ",
				"including any content. Keys are tag names and the values ",
				"determine whether a tag should be removed, as follows:\n",
				"* If <code>true</code>, remove all tags of that type.\n",
				"* If an array, remove tags whose class matches any of the ",
				"strings in the array.\n* If false, tags of that type will ",
				"not be removed. This can be used in ''LocalSetting.php'' to ",
				"override default criteria."
			],
			"value": {
				"span": "mw-editsection",
				"table": true,
				"sup": "reference",
				"div": [
					"thumb",
					"toc"
				]
			}
		},
		"WikispeechSegmentBreakingTags": {
			"description": [
				"HTML tags that will break text in segments. This ensure that, ",
				"for example a header text without punctuation suffix will not ",
				"be merged to the same segment as the text content of a ",
				"preceding paragraph."
			],
			"value": [
				"h1",
				"h2",
				"h3",
				"h4",
				"h5",
				"h6",
				"p",
				"br",
				"li"
			]
		},
		"WikispeechNamespaces": {
			"description": [
				"List of the [https://www.mediawiki.org/wiki/Namespaces namespace] ",
				"indices, for which Wikispeech is activated."
			],
			"value": [
				0
			]
		},
		"WikispeechKeyboardShortcuts": {
			"description": [
				"Shortcuts for Wikispeech commands. Each shortcut defines the ",
				"key pressed (as key code<ref>https://www.cambiaresearch.com/articles/15/javascript-char-codes-key-codes</ref>) ",
				"and any modifier keys (ctrl, alt or shift)."
			],
			"value": {
				"playStop": {
					"key": 32,
					"modifiers": [
						"alt",
						"shift"
					]
				},
				"skipAheadSentence": {
					"key": 39,
					"modifiers": [
						"alt",
						"shift"
					]
				},
				"skipBackSentence": {
					"key": 37,
					"modifiers": [
						"alt",
						"shift"
					]
				},
				"skipAheadWord": {
					"key": 40,
					"modifiers": [
						"alt",
						"shift"
					]
				},
				"skipBackWord": {
					"key": 38,
					"modifiers": [
						"alt",
						"shift"
					]
				}
			}
		},
		"WikispeechSkipBackRewindsThreshold": {
			"description": [
				"If an utterance has played longer than this (in seconds), ",
				"skipping back will rewind to the start of the current ",
				"utterance, instead of skipping to previous utterance."
			],
			"value": 3.0
		},
		"WikispeechHelpPage": {
			"description": [
				"Help page for Wikispeech. If defined, a button that takes the ",
				"user here is added next to the player buttons."
			],
			"value": "Help:Wikispeech"
		},
		"WikispeechFeedbackPage": {
			"description": [
				"Feedback page for Wikispeech. If defined, a button that takes ",
				"the user here is added next to the player buttons."
			],
			"value": "Wikispeech feedback"
		},
		"WikispeechContentSelector": {
			"description": [
				"The selector for the element that contains the text of the page. ",
				"Used internally, but may change with MediaWiki version."
			],
			"value": "#mw-content-text"
		},
		"WikispeechVoices": {
			"description": [
				"Registered voices per language. ",
				"System default voice falls back on the first registered voice for a language ",
				"if not defined by Speechoid."
			],
			"value": {
				"ar": [
					"ar-nah-hsmm"
				],
				"en": [
					"dfki-spike-hsmm",
					"cmu-slt-hsmm"
				],
				"sv": [
					"stts_sv_nst-hsmm"
				]
			}
		},
		"WikispeechMinimumMinutesBetweenFlushExpiredUtterancesJobs": {
			"description": [
				"Minimum number of minutes between queuing jobs that ",
				"automatically flushes expired utterances from the utterance store. ",
				"The job will be queued during creation of a new utterance, ",
				"given that enough minutes has passed since the previous queuing of the job. ",
				"Disable automatic flushing by setting value to a falsy value (0, false, null, etc). ",
				"To avoid running the flush job too often, see the MW job documentation: ",
				"https://www.mediawiki.org/wiki/Manual:Job_queue#Job_execution_on_page_requests"
			],
			"value": 30
		},
		"WikispeechUtteranceTimeToLiveDays": {
			"description": [
				"Minimum number of days for an utterance to live before being ",
				"automatically flushed from the utterance store. ",
				"More or less the cache flush setting for synthesized text. ",
				"Setting this value too low will save disk space but cause frequently ",
				"requested text segments to be re-synthesized more often with a CPU cost.",
				"Setting this value too high will block improvements to the voice synthesis. ",
				"Setting this value to 0 will in effect turn off the cache ",
				"and thus flush all utterances as soon as possible."
			],
			"value": 31
		},
		"WikispeechUtteranceFileBackendName": {
			"description": [
				"FileBackend group defined in LocalSettings.php used for utterance audio and metadata files.",
				"If not defined in LocalSettings.php, a FSBackend will be created that work against ",
				"a temporary directory. See log warnings for exact path."
			],
			"value": ""
		},
		"WikispeechUtteranceFileBackendContainerName": {
			"description": "Container name used in FileBackend for utterance audio and metadata files.",
			"value": "wikispeech_utterances"
		}
	},
	"DefaultUserOptions": {
		"wikispeechEnable": true,
		"wikispeechShowPlayer": false,
		"wikispeechVoiceAr": "",
		"wikispeechVoiceEn": "",
		"wikispeechVoiceSv": "",
		"wikispeechSpeechRate": 1.0
	},
	"APIModules": {
		"wikispeech-segment": {
			"class": "\\MediaWiki\\Wikispeech\\Api\\ApiWikispeechSegment",
			"services": [
				"MainWANObjectCache"
			]
		},
		"wikispeech-listen": {
			"class": "\\MediaWiki\\Wikispeech\\Api\\ApiWikispeechListen",
			"services": [
				"MainWANObjectCache",
				"RevisionStore"
			]
		}
	},
	"AvailableRights": [
		"wikispeech-listen"
	],
	"GroupPermissions": {
		"*": {
			"wikispeech-listen": true
		}
	}
}
